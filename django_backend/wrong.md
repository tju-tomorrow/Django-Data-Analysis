================================================================================
ğŸš€ [æ•°æ®æµè¿½è¸ª] å¼€å§‹å¤„ç† Chat è¯·æ±‚
================================================================================
âœ… [è®¤è¯æˆåŠŸ] ç”¨æˆ·: ckx, API Key: AfMAbwPJ...
ğŸ“ [è¯·æ±‚å‚æ•°] session_id: '3', query_type: 'analysis'
ğŸ“ [ç”¨æˆ·è¾“å…¥] how are you

ğŸ” [ä¼šè¯æŸ¥è¯¢] æ­£åœ¨è·å–ä¼šè¯ session_id='3', user='ckx'
ğŸ” [æ•°æ®åº“æŸ¥è¯¢] æŸ¥æ‰¾ä¼šè¯: session_id='3', user='ckx'
ğŸ“‚ [æ•°æ®åº“æ“ä½œ] åŠ è½½ç°æœ‰ä¼šè¯ - ID: 21, session_id: '3'
ğŸ“‚ [ç°æœ‰ä¼šè¯è¯¦æƒ…] ç”¨æˆ·: ckx, ä¸Šä¸‹æ–‡é•¿åº¦: 1541 å­—ç¬¦
ğŸ“‚ [ä¼šè¯åˆ›å»ºæ—¶é—´] 2025-10-23 17:47:58.416088+00:00
ğŸ“‚ [ä¼šè¯æ›´æ–°æ—¶é—´] 2025-10-26 13:23:12.699637+00:00
ğŸ“‚ [å†å²ä¸Šä¸‹æ–‡é¢„è§ˆ] ç”¨æˆ·ï¼šhello
å›å¤ï¼šæ‚¨å¥½ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©æ‚¨çš„å—ï¼Ÿæ‚¨å¯ä»¥å‘Šè¯‰æˆ‘æ‚¨éœ€è¦äº†è§£çš„æŠ€æœ¯é¢†åŸŸæˆ–é—®é¢˜ç»†èŠ‚ï¼Œæˆ‘ä¼šå°½åŠ›ä¸ºæ‚¨æä¾›å¸®åŠ©ã€‚
ç”¨æˆ·ï¼šwho are u
å›å¤ï¼šæˆ‘æ˜¯Qwenï¼Œç”±é˜¿é‡Œäº‘å¼€å‘çš„AIåŠ©æ‰‹ï¼Œæ—¨åœ¨æä¾›å„ç§æŠ€æœ¯é—®é¢˜çš„ç­”æ¡ˆå’Œå¸®åŠ©ã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®æ‚¨çš„å—ï¼Ÿ
ç”¨æˆ·ï¼šhow to solve database...
ğŸ“Š [ä¼šè¯çŠ¶æ€] ä¼šè¯ID: 3
ğŸ“Š [ä¼šè¯ç”¨æˆ·] ckx
ğŸ“Š [å†å²é•¿åº¦] 1541 å­—ç¬¦
ğŸ“Š [å†å²å†…å®¹é¢„è§ˆ] ç”¨æˆ·ï¼šhello
å›å¤ï¼šæ‚¨å¥½ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©æ‚¨çš„å—ï¼Ÿæ‚¨å¯ä»¥å‘Šè¯‰æˆ‘æ‚¨éœ€è¦äº†è§£çš„æŠ€æœ¯é¢†åŸŸæˆ–é—®é¢˜ç»†èŠ‚ï¼Œæˆ‘ä¼šå°½åŠ›ä¸ºæ‚¨æä¾›å¸®åŠ©ã€‚
ç”¨æˆ·ï¼šwho are u
å›å¤ï¼šæˆ‘æ˜¯Qwenï¼Œç”±é˜¿é‡Œäº‘å¼€å‘çš„AIåŠ©æ‰‹ï¼Œæ—¨åœ¨æä¾›å„ç§æŠ€æœ¯é—®é¢˜çš„ç­”æ¡ˆå’Œå¸®åŠ©ã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®æ‚¨çš„å—ï¼Ÿ
ç”¨æˆ·ï¼šhow to solve database error
å›å¤ï¼š## åˆ†æè¦æ±‚
è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œåˆ†æï¼š

### ç¬¬ä¸€æ­¥ï¼šé—®é¢˜è¯†åˆ«
ä»æ—¥å¿—ä¸­æ...

ğŸ§  [æ™ºèƒ½å¯¹è¯ç®¡ç†] å¼€å§‹åˆ†æå¯¹è¯ç±»å‹å’Œä¸Šä¸‹æ–‡...
æ„å›¾åˆ†ç±»å¤±è´¥: 'LightweightIntentClassifier' object has no attribute 'model'
æ„å›¾åˆ†ç±»å¤±è´¥: 'LightweightIntentClassifier' object has no attribute 'model'
æ„å›¾åˆ†ç±»å¤±è´¥: 'LightweightIntentClassifier' object has no attribute 'model'
ğŸ§  [å†å²è§£æ] è§£æå‡º 3 è½®å†å²å¯¹è¯
æ„å›¾åˆ†ç±»å¤±è´¥: 'LightweightIntentClassifier' object has no attribute 'model'
ğŸ§  [æ™ºèƒ½åˆ†ç±»] å¯¹è¯ç±»å‹: general_qa
ğŸ§  [åˆ†ç±»è¯¦æƒ…] æ„å›¾: unknown, ç½®ä¿¡åº¦: 0.000
ğŸ§  [æ¨¡å‹ä¿¡æ¯] ä½¿ç”¨æ¨¡å‹: error_fallback, è€—æ—¶: 0.443ç§’
ğŸ§  [ä¸Šä¸‹æ–‡å‹ç¼©] å‹ç¼©åä¿ç•™ 3 è½®å¯¹è¯
æ„å›¾åˆ†ç±»å¤±è´¥: 'LightweightIntentClassifier' object has no attribute 'model'
name 'text' is not defined
Traceback (most recent call last):
  File "/home/victor/miniconda3/envs/chenkaixuan_DA/lib/python3.13/site-packages/ninja/operation.py", line 133, in run
    result = self.view_func(request, **values)
  File "/home/victor/DataAnalysis/django_backend/deepseek_api/api.py", line 134, in chat
    use_rag, rag_decision = conversation_manager.should_use_rag(conversation_type, user_input, classification_details)
                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/victor/DataAnalysis/django_backend/deepseek_api/conversation_manager.py", line 301, in should_use_rag
    use_rag = is_rag_required(intent_result)
  File "/home/victor/DataAnalysis/django_backend/deepseek_api/intent_classifier.py", line 377, in is_rag_required
    return any(keyword in text.lower() for keyword in technical_keywords)
  File "/home/victor/DataAnalysis/django_backend/deepseek_api/intent_classifier.py", line 377, in <genexpr>
    return any(keyword in text.lower() for keyword in technical_keywords)
                          ^^^^
NameError: name 'text' is not defined. Did you mean: 'next'?
Internal Server Error: /api/chat
[26/Oct/2025 14:02:42] "POST /api/chat HTTP/1.1" 500 1151

